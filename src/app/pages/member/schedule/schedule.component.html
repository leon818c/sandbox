<div class="page-container">
  <app-header></app-header>
  
  <main class="content">
    <div class="calendar-container">
      <div class="calendar-header">
        <button class="nav-btn" (click)="previousMonth()">
          <span class="arrow">‹</span>
        </button>
        <h1 class="month-year">{{ currentMonthYear }}</h1>
        <button class="nav-btn" (click)="nextMonth()">
          <span class="arrow">›</span>
        </button>
      </div>
      
      <div class="calendar-grid">
        <div class="day-header" *ngFor="let day of dayHeaders">{{ day }}</div>
        
        <div 
          class="date-cell" 
          *ngFor="let date of calendarDates"
          [class.other-month]="!date.isCurrentMonth"
          [class.today]="date.isToday"
          [class.has-events]="date.events.length > 0"
          (click)="date.events.length > 0 ? openEventModal(date) : null"
        >
          <span class="date-number">{{ date.day }}</span>
          <div class="events desktop-events">
            <div 
              class="event" 
              *ngFor="let event of date.events"
              [class]="event.type"
            >
              {{ event.title }}
            </div>
          </div>
          <div class="mobile-events" *ngIf="date.events.length > 0">
            <div class="event-dots">
              <span 
                class="event-dot" 
                *ngFor="let event of date.events" 
                [class]="event.type"
              ></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <!-- Event Modal -->
  @if (showEventModal) {
    <div class="modal-overlay" (click)="closeEventModal()">
      <div class="event-modal" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h3>{{ getSelectedDateString() }} Events</h3>
          <button class="close-btn" (click)="closeEventModal()">×</button>
        </div>
        <div class="modal-content">
          <div 
            class="modal-event" 
            *ngFor="let event of selectedDate?.events"
            [class]="event.type"
          >
            <div class="event-title">{{ event.title }}</div>
            <div class="event-time" *ngIf="event.time">{{ event.time }}</div>
          </div>
        </div>
      </div>
    </div>
  }
  
  <app-footer></app-footer>
</div>
