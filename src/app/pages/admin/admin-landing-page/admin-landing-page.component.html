<div class="admin-container">
  <header class="admin-header">
    <button class="home-btn" routerLink="/">← Back to Home</button>
    @if (isAuthenticated) {
      <button class="logout-btn" (click)="logout()">Logout</button>
    }
  </header>
  
  <div class="auth-section" [class.show]="!isAuthenticated" [class.fade-in]="!isLoggingIn && !isAuthenticated">
    <div class="auth-card" [class.fade-out]="isLoggingIn">
      <h1>Admin Access</h1>
      <p>Please enter your admin password to continue</p>
      <div class="password-input">
        <input 
          type="password" 
          [(ngModel)]="passwordInput" 
          placeholder="Enter admin password"
          (keyup.enter)="checkPassword()"
          [class.error]="hasPasswordError"
          [class.success]="showSuccessAnimation"
          (input)="hasPasswordError = false"
          [disabled]="isLoggingIn || showSuccessAnimation"
        >
        <button (click)="checkPassword()" [disabled]="isLoggingIn || showSuccessAnimation">
          {{ showSuccessAnimation ? 'Success!' : (isLoggingIn ? 'Logging in...' : 'Login') }}
        </button>
      </div>
    </div>
  </div>
  
  <div class="dashboard-content" [class.show]="isAuthenticated">
      <div class="dashboard-header">
        <h1>Admin Dashboard</h1>
        <p>Manage servers and leaderboard points</p>
      </div>
      
      <div class="management-grid">
      <div class="section-card">
        <div class="section-header">
          <h2>Server Management</h2>
          <span class="count-badge">{{ servers.length }} servers</span>
        </div>
        
        <div class="management-links">
          <button class="management-btn" routerLink="/admin/servers">
            👥 Manage Servers
          </button>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <h2>Leaderboard Management</h2>
          <span class="count-badge">{{ users.length }} users</span>
        </div>
        
        <div class="management-links">
          <button class="management-btn" routerLink="/admin/leaderboard">
            🏆 Manage Leaderboard
          </button>
        </div>
      </div>

      <div class="section-card">
        <div class="section-header">
          <h2>Group Management</h2>
          <span class="count-badge">{{ groups.length }} groups</span>
        </div>
        
        <div class="management-links">
          <button class="management-btn" routerLink="/admin/groups">
            👥 Manage Groups
          </button>
        </div>
      </div>
      <div class="section-card">
        <div class="section-header">
          <h2>Attendance Tracking</h2>
          <span class="count-badge">{{ attendanceRecords || 0 }} records</span>
        </div>
        
        <div class="management-links">
          <button class="management-btn" routerLink="/admin/calendar">
            📋 Track Attendance
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <app-edit-server 
    [server]="selectedServer" 
    [isVisible]="showEditModal" 
    (save)="onSaveServer($event)" 
    (cancel)="onCancelEdit()">
  </app-edit-server>
</div>
